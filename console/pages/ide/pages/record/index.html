<h2>Record</h2>
<fieldset name="search">
    <h3>Search</h3>
    <input name="search-type" type="search" placeholder="search record type..." autocomplete="off" list="ide-record-search-type-list" live-trigger="search:IdeRecordSearch" />
    <input name="search-uuid" type="search" placeholder="search record UUID..." autocomplete="off" list="ide-record-search-uuid-list" live-trigger="focus:IdeRecordSearch input:IdeRecordSearch search:IdeRecordSearch" />
    <button name="load" disabled="true" live-trigger="click:IdeRecordSearch">Load</button>
    <datalist id="ide-record-search-type-list"></datalist>
    <datalist id="ide-record-search-uuid-list"></datalist>
    <h4>History</h4>
    <ol class="history">
        <small>Reload recent records from here...</small>
    </ol>
</fieldset>
<fieldset name="edit" live-subscription="IdeRecordSearch:IdeRecordEdit">
    <h3>Edit</h3>
    <button name="save" disabled="true" live-trigger="click:IdeRecordEdit">Save</button>
    <button name="duplicate" disabled="true" live-trigger="click:IdeRecordEdit">Duplicate</button>
    <button name="delete" disabled="true" live-trigger="click:IdeRecordEdit">Delete</button>
    <table class="editor">
        <thead>
            <tr>
                <th colspan="2">Property</th>
                <th colspan="1">Data Type</th>
                <th colspan="4">Value</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <datalist id="ide-record-edit-properties-list"></datalist>
    <details>
        <summary>Snippet</summary>
        <div class="snippet">
/* SAVE record */
window.fetch(
    `${window.localStorage.getItem('system:system_access_url')}${window.localStorage.getItem('system:system_root')}/connection/${window.localStorage.getItem('system:connection_id')}/record/${window.LiveElement.Scale.Console.IDE.Record.Edit.record['@type']}/${window.LiveElement.Scale.Console.IDE.Record.Edit.record['@id']}.json`, 
    {
        method: 'PUT', 
        headers: {'Content-Type': 'application/json'}, 
        body: JSON.stringify({
            ${JSON.stringify(window.LiveElement.Scale.Console.IDE.Record.Edit.record, null, 20).slice(1, -1)}
        }) 
    }
)
            
/* DELETE record */
window.fetch(
    `${window.localStorage.getItem('system:system_access_url')}${window.localStorage.getItem('system:system_root')}/connection/${window.localStorage.getItem('system:connection_id')}/record/${window.LiveElement.Scale.Console.IDE.Record.Edit.record['@type']}/${window.LiveElement.Scale.Console.IDE.Record.Edit.record['@id']}.json`, 
    {
        method: 'DELETE'
    }
)
        </div>
    </details>
</fieldset>
