<style>
:host {
    contain: content;
    display: block;
    position: relative;
}
</style>
<template>
</template>
<script>
    /* global */
    class OpaqueData extends window.LiveElement.Element.elements.HTMLElement {

        static __extends = 'HTMLElement'

        constructor() {
            super()
            var $this = this
            
        }

        static get observedAttributes() {
            return (super.observedAttributes || []).concat('Content-Length', 'Content-Type', 'Last-Modified', 'path', 'body')
        }
        
        connectedCallback() {
            var $this = this
        }
        
        setParam(name, value) {
            var $this = this, isNewParam, isNewObject, paramElement = $this.shadowRoot.querySelector(`object param[name=${name}]`) || document.createElement('param')
            if (!paramElement.hasAttribute('name')) {
                paramElement.setAttribute('name', name)
                isNewParam = true
            }
            paramElement.setAttribute('value', value)
            if (isNewParam) {
                var objectElement = $this.shadowRoot.querySelector('object')
                if (!objectElement) {
                    objectElement = document.createElement('object')
                    isNewObject = true
                }
                objectElement.appendChild(paramElement)
                if (isNewObject) {
                    $this.shadowRoot.appendChild(objectElement)
                }
            }
        }
        
        ['Content-Length']($this, value) {
            $this.setParam('Content-Length', value)
            return value
        }
        
        ['Content-Type']($this, value) {
            var objectElement = $this.shadowRoot.querySelector('object')
            if (objectElement) {
                objectElement.setAttribute('type', value)
            }
            return value
        }
        
        ['Last-Modified']($this, value) {
            $this.setParam('Last-Modified', value)
            return value
        }
        
        path($this, value) {
            $this.setParam('path', value)
            return value
        }
        
        body($this, value) {
            var isNew, objectElement = $this.shadowRoot.querySelector('object')
            if (!objectElement) {
                objectElement = document.createElement('object')
                isNew = true
            }
            objectElement.setAttribute('data', `data:${$this['Content-Type']};base64,${value}`)
            if (isNew) {
                $this.shadowRoot.appendChild(objectElement)
            }
        }
        
    }
</script>
